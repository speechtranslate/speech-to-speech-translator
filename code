import speech_recognition as sr
from googletrans import Translator
from gtts import gTTS
import os

recognizer = sr.Recognizer()
translator = Translator()

with sr.Microphone() as source:
    print("Speak in Hindi...")
    recognizer.adjust_for_ambient_noise(source)
    audio = recognizer.listen(source)

try:

    text = recognizer.recognize_google(audio, language="hi-IN")
    print("Recognized Text:", text)

    
    translated = translator.translate(text, src='hi', dest='en')
    print("Translated Text:", translated.text)

    
    tts = gTTS(text=translated.text, lang='en')
    tts.save("output.mp3")


    os.system("start output.mp3")  
    # os.system("mpg321 output.mp3") 

except Exception as e:
    print("Error:", e)
